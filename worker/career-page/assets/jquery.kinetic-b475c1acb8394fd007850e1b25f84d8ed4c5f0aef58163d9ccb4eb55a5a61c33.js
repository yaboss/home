/*!
    jQuery.kinetic v1.2
    Dave Taylor http://the-taylors.org/jquery.kinetic

    The MIT License (MIT)
    Copyright (c) <2011> <Dave Taylor http://the-taylors.org>
*/
!function(e){"use strict";var t={decelerate:!0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},i="kinetic-settings";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}()),e.support=e.support||{},e.extend(e.support,{touch:"ontouchend"in document});var n=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},o=function(e,t){var i=e;return e>0?e>t&&(i=t):0-t>e&&(i=0-t),i},l=function(e,t){this.removeClass(e.movingClass.up).removeClass(e.movingClass.down).removeClass(e.movingClass.left).removeClass(e.movingClass.right).removeClass(e.deceleratingClass.up).removeClass(e.deceleratingClass.down).removeClass(e.deceleratingClass.left).removeClass(e.deceleratingClass.right),e.velocity>0&&this.addClass(t.right),e.velocity<0&&this.addClass(t.left),e.velocityY>0&&this.addClass(t.down),e.velocityY<0&&this.addClass(t.up)},c=function(e,t){"function"==typeof t.stopped&&t.stopped.call(e,t)},s=function(e,t){var i=e[0];t.x&&i.scrollWidth>0&&(i.scrollLeft=t.scrollLeft=i.scrollLeft+t.velocity,Math.abs(t.velocity)>0&&(t.velocity=t.decelerate?n(t.velocity,t.slowdown):t.velocity)),t.y&&i.scrollHeight>0&&(i.scrollTop=t.scrollTop=i.scrollTop+t.velocityY,Math.abs(t.velocityY)>0&&(t.velocityY=t.decelerate?n(t.velocityY,t.slowdown):t.velocityY)),l.call(e,t,t.deceleratingClass),"function"==typeof t.moved&&t.moved.call(e,t),Math.abs(t.velocity)>0||Math.abs(t.velocityY)>0?window.requestAnimationFrame(function(){s(e,t)}):c(e,t)},a=function(t,n){var o=e.kinetic.callMethods[t],l=Array.prototype.slice.call(arguments);o&&this.each(function(){var t=l.slice(1),n=e(this).data(i);t.unshift(n),o.apply(this,t)})},r=function(n){this.addClass("kinetic-active").attr("tabindex","0").each(function(){var c,a,r,u,d=e.extend({},t,n),v=e(this),f=!1,m=!1,h=!1,p=1e3/d.throttleFPS;d.velocity=0,d.velocityY=0,v.bind("selectstart",function(){return!1});var y=function(){c=!1,a=!1,h=!1};e(document).mouseup(y).click(y);var w=function(){d.velocity=o(f-c,d.maxvelocity),d.velocityY=o(m-a,d.maxvelocity)},g=function(e,t){h=!0,d.velocity=f=0,d.velocityY=m=0,c=e,a=t},C=function(){void 0!==c&&void 0!==f&&d.decelerate===!1&&(d.decelerate=!0,w(),c=f=h=!1,s(v,d))},k=function(t,i){(!r||new Date>new Date(r.getTime()+p))&&(r=new Date,h&&(c||a)&&(u&&(e(u).blur(),u=null,v.focus()),d.decelerate=!1,d.velocity=d.velocityY=0,v[0].scrollLeft=d.scrollLeft=d.x?v[0].scrollLeft-(t-c):v[0].scrollLeft,v[0].scrollTop=d.scrollTop=d.y?v[0].scrollTop-(i-a):v[0].scrollTop,f=c,m=a,c=t,a=i,w(),l.call(v,d,d.movingClass),"function"==typeof d.moved&&d.moved.call(v,d)))};e.support.touch?(this.addEventListener("touchstart",function(e){g(e.touches[0].clientX,e.touches[0].clientY)},!1),this.addEventListener("touchend",function(e){e.preventDefault&&e.preventDefault(),C()},!1),this.addEventListener("touchmove",function(e){e.preventDefault&&e.preventDefault(),k(e.touches[0].clientX,e.touches[0].clientY)},!1)):v.mousedown(function(e){g(e.clientX,e.clientY),u=e.target,e.preventDefault()}).mouseup(function(){C(),u=null}).mouseleave(function(){C()}).mousemove(function(e){k(e.clientX,e.clientY),e.preventDefault()}).css("cursor","move"),v.click(function(e){return Math.abs(d.velocity)>0?(e.preventDefault(),!1):void 0}),v.data(i,d)})};e.kinetic={settingsKey:i,callMethods:{start:function(t,i){var n=e(this);t=e.extend(t,i),t&&(t.decelerate=!1,s(n,t))},end:function(t,i){e(this);t&&(t.decelerate=!0)}}},e.fn.kinetic=function(e){return"string"==typeof e?a.apply(this,arguments):r.call(this,e),this}}(window.jQuery||window.Zepto);